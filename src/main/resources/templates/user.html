<!DOCTYPE html>
<html>

<head>
    <meta charset="ISO-8859-1" />
    <title>User Management</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container-fluid">
            <span class="navbar-brand mb-0 h1">User Management</span>
        </div>
    </nav>
    <div class="container pt-5">
        <h2>
            All Users
            <button type="button" id="add_user" class="btn btn-success" data-bs-toggle="modal"
                data-bs-target="#exampleModal">
                Add New
            </button>
            <button type="button" id="user_by_id" onclick="getuser()" class="btn btn-success" data-bs-toggle="modal"
                data-bs-target="#exampleModal">
                Get User by ID
            </button>
        </h2>
        <table class="table table-hover mt-2">
            <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Age</th>
                    <th scope="col">Email</th>
                    <th scope="col">Action</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="user1:${users}">
                    <td th:text="${user1.id}">1</td>
                    <td th:text="${user1.name}">Rohit</td>
                    <td th:text="${user1.age}">23</td>
                    <td th:text="${user1.email}">rohit@gmail.com</td>
                    <td>
                        <div class="btn-group" role="group" aria-label="Basic example">
                            <button type="button" th:attr="onclick=|update('${user1.id}')|" class="btn btn-primary">
                                Update
                            </button>
                            <button type="button" th:attr="onclick=|dlt('${user1.id}')|" class="btn btn-danger">
                                Delete
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <!--INSERT MODEL-->
    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Add New User</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form action="" method="post">
                        <div class="mb-3">
                            <label class="form-label">Enter Id</label>
                            <input class="form-control" id="id" onkeyup="get_user(this.value)" type="number" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Enter Name</label>
                            <input class="form-control" id="name" type="text" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Enter Age</label>
                            <input class="form-control" id="age" type="number" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Enter Email</label>
                            <input class="form-control" id="email" type="email" />
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
                        Close
                    </button>
                    <button type="button" id="save" class="btn btn-primary">
                        Add Now
                    </button>
                    <button type="button" id="update" class="btn btn-primary">
                        Update Now
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script th:src="@{/func.js}"></script>
</body>

</html>